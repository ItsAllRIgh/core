<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
      lang="en"
      xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="/main.css" rel="stylesheet"/>
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
    <meta charset="UTF-8"/>
    <title>Players</title>
    <style>
        .card {
            /* Add shadows to create the "card" effect */
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
            transition: 0.3s;
        }

        /* On mouse-over, add a deeper shadow */
        .card:hover {
            box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
        }

        /* Add some padding inside the card container */
        .container {
            padding: 2px 16px;
        }
    </style>

</head>
<body>
<div class="container">
    <div class="row" id="cards">
    </div>
</div>

<script>
    $.getJSON("http://localhost:8080/player", function (data) {
        $.each(data, function () {
            createPlayerCard(this)
        });
    });

    createPlayerCard = function (data) {
        if (data != null) {
            console.log(data);

            var characterCard = "<div class='card col-md-3'><img src='" + data.avatar + "' alt='avatar' style='width:100%'><div class='container'><h4><b>" + data.name + "</b></h4><p>" + data.species.name + "</p></div></div>";
            $("#cards").append($(characterCard));

        }

    };
</script>
</body>
</html>